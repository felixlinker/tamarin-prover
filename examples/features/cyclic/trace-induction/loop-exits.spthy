theory LoopExits
begin

functions: h/1

rule Start:
  [ Fr(~x) ]
  --[ Gen(~x) ]->
  [ Up(~x, ~x) ]

rule Up:
  [ Up(id, x) ]
  --[ Gen(h(x))
    , GenRequiringCut(x) ]->
  [ Up(id, h(x)) ]

rule Stop:
  [ Up(id, x) ]
  --[ GenRequiringCut(x) ]->
  []

lemma Correspondence[use_induction]:
  "All x #a #b. Gen(x) @ #a & Gen(x) @ #b ==> #a = #b"

lemma CorrespondenceRequiringCut[use_induction]:
  "All x #a #b. GenRequiringCut(x) @ #a & GenRequiringCut(x) @ #b ==> #a = #b"

end
